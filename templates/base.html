{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Fitness Meals is a place where users can create and share healthy recipe ideas.">
    <meta name="keywords" content="Fitness Meals, healthy recipes, create, share, like, comment">
    <title>{% block title %} Fitness Meals | Welcome{% endblock %}</title>
    <link rel="shortcut icon" href="{% static 'img/favicon.ico'%}" type="image/x-icon">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"/>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        {% if user.is_authenticated %}
        <a class="navbar-brand" href="{% url 'recipes_list' %}">
          Fitness<span class="fw-bold">Meals</span>
        </a>
        {% else %}
        <a class="navbar-brand" href="{% url 'home' %}">
          Fitness
          <span class="fw-bold">Meals</span></a>
        {% endif %}
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNavAltMarkup">
          <div class="navbar-nav">
            {% if user.is_authenticated %}
            <a class="nav-link" href="{% url 'user_profile' %}">Profile</a>
            <a class="nav-link" href="{% url 'recipes_list' %}">Recipes</a>
            <a class="nav-link" href="{% url 'account_logout' %}">Logout</a>
            <a class="nav-link text-primary fw-bold" href="{% url 'recipe_create' %}">
              Create New Recipe</a>
            {% else %}
            <a
              class="nav-link"
              aria-current="page"
              href="{% url 'home' %}">
              Home
            </a>
            <a class="nav-link" href="{% url 'recipes_list' %}">Recipes</a>
            <a class="nav-link" href="{% url 'account_login' %}">Login</a>
            <a class="nav-link" href="{% url 'account_signup' %}">Register</a>
            {% endif %}
          </div>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-8 offset-md-2">
          {% for message in messages %}
          <div
            class="alert {{ message.tags }} alert-dismissible fade show"
            id="msg"
            role="alert">
            {{ message | safe }}
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="alert"
              aria-label="Close">
          </button>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <main class="container">
      {% block content %}
      {% endblock content %}
    </main>

    <footer class="border-top container text-center p-5">
      {% if user.is_authenticated %}
      <a class="navbar-brand mb-3" href="{% url 'recipes_list' %}">
        Fitness
        <span class="fw-bold">
          Meals
        </span></a>
      {% else %}
      <a class="navbar-brand mb-3" href="{% url 'home' %}">
        Fitness<span class="fw-bold">Meals</span></a>
      {% endif %}

      <ul class="social-links list-inline">
        <li class="list-inline-item">
          <a
            href="https://github.com/EdwardShanahan07"
            target="_blank"
            aria-label="New tab opens GitHub Profile">
            <i class="fa-brands fa-github"></i>
          </a>
        </li>
        <li class="list-inline-item">
          <a
            href="https://www.linkedin.com/in/edward-shanahan-98647a270"
            target="_blank"
            aria-label="New tab opens Linkedin Profile">
            <i class="fa-brands fa-linkedin-in"></i>
          </a>
        </li>
        <li class="list-inline-item">
          <a
            href="mailto:edwardshanahan357@gmail.com"
            aria-label="Opens default email application">
            <i class="fa-solid fa-envelope"></i>
          </a>
        </li>
      </ul>
      <p class="text-secondary">Â©FitnessMeals 2023</p>
    </footer>

    <script
      src=" https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous">
    </script>
    <script>
      setTimeout(function () {
        let messages = document.getElementById("msg")
        let alert = new bootstrap.Alert(messages)
        alert.close()
      }, 2000)
    </script>
  </body>
</html>
